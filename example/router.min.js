// GoldenRoute
// (c) 2016 - 2017, Valentino Giudice, https://github.com/Aspie96/GoldenRoute
// Licensed under the MIT license: https://github.com/Aspie96/GoldenRoute/blob/master/LICENSE
var GoldenRoute=function(){function e(a){a=a.split("#")[0];for(var c=a.split("?"),d=c[0].replace(/[\\\/]+/g,"/"),e=null,f={},g=0;g<b.length&&!e;g++){var h=d.match(b[g].pattern);if(h){e=b[g];for(var g=0;g<e.params.length;g++)f[e.params[g]]=decodeURIComponent(h[g+1])}}if(e){var i={};if(c[1]){c=c[1].split("&");for(var g=0;g<c.length;g++){var j=c[g].split("=");j[1]?i[decodeURIComponent(j[0])]=decodeURIComponent(j[1].replace(/\+/g," ")):i[decodeURIComponent(j[0])]=!0}}return{params:f,query:i,route:e}}return null}function f(a,b){var f=e(a);return!!f&&(!(!c||!1!==c())||(f.route.routeFunc(f.params,f.query,function(c,e){e||(document.title=c,document.body.scrollTop=document.documentElement.scrollTop=0,document.body.scrollLeft=document.documentElement.scrollLeft=0,b&&((location.origin||location.protocol+"//"+location.host)+a==location.href?history.replaceState(null,c,a):history.pushState(null,c,a)),d&&d())}),!0))}if(window.history&&window.history.pushState){var c,d,a={},b=[];return a.addRoute=function(a,c){var d={},e=a.split("/"),f="^";d.params=[];for(var g=0;g<e.length;g++)0==e[g].indexOf(":")?(d.params.push(e[g].slice(1)),e[g]="([a-zA-Z0-9-_]+)"):e[g]=e[g];f+=e.join("/"),f+="$",d.pattern=new RegExp(f),d.routeFunc=c,b.push(d)},a.start=function(){document.addEventListener("click",function(b){var c,d;if("A"==b.target.tagName?(c=b.target.getAttribute("href"),d=b.target.getAttribute("target")):"A"==b.target.parentNode.tagName&&(c=b.target.parentNode.getAttribute("href"),d=b.target.parentNode.getAttribute("target")),c)if("_blank"==d||a.externalInBlank&&/^(http:|https:|)\/\//i.test(c)&&"_self"!=d){b.preventDefault();var e=window.open(c,"_blank");e.opener=null,b.target.blur()}else/^[\\\/](?![\\\/])/.test(c)&&f(c,!0)&&(b.preventDefault(),b.target.blur())},!1),addEventListener("popstate",function(a){f(location.pathname+location.search,!1)||location.reload()})},a.routeTo=function(a){f(a,!0)||(location.href=a)},a.onRouting=function(a){c=a},a.onRouted=function(a){d=a},a.externalInBlank=!0,a}return{addRoute:function(){},start:function(){},routeTo:function(a){location.href=a},onRouting:function(){},onRouted:function(){}}}();
