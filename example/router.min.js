// GoldenRoute
// 2016, Valentino Giudice, https://github.com/Aspie96/GoldenRoute
// Licensed under the MIT license: https://github.com/Aspie96/GoldenRoute/blob/master/LICENSE
var GoldenRoute=function(){function t(t){t=t.split("#")[0];for(var e=t.split("?"),n=e[0].replace(/[\\\/]+/g,"/"),r=null,a={},u=0;u<o.length&&!r;u++){var i=n.match(o[u].pattern);if(i){r=o[u];for(var u=0;u<r.params.length;u++)a[r.params[u]]=decodeURIComponent(i[u+1])}}if(r){var c={};if(e[1]){e=e[1].split("&");for(var u=0;u<e.length;u++){var l=e[u].split("=");l[1]?c[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):c[decodeURIComponent(l[0])]=null}}return{params:a,query:c,route:r}}return null}function e(e,n){var o=t(e);return o&&o.route.routeFunc(o.params,o.query,function(t){n&&history.pushState(null,t,e),document.title=t}),!!o}if(window.history&&window.history.pushState){var n={},o=[];return n.addRoute=function(t,e){var n={},r=t.split("/"),a="^";n.params=[];for(var u=0;u<r.length;u++)0==r[u].indexOf(":")?(n.params.push(r[u].slice(1)),r[u]="([a-zA-Z0-9-_]+)"):r[u]=r[u];a+=r.join("/"),a+="$",n.pattern=new RegExp(a),n.routeFunc=e,o.push(n)},n.start=function(){document.addEventListener("click",function(t){if("A"==t.target.tagName){var n=t.target.getAttribute("href");/^[\\\/](?![\\\/])/.test(n)&&e(n,!0)&&t.preventDefault()}},!1),addEventListener("popstate",function(t){e(location.pathname,!1)||location.reload()})},n.routeTo=function(t){e(t,!0)||(location.href=t)},n}return{addRoute:function(){},start:function(){},routeTo:function(t){location.href=t}}}();
